<div *ngIf="showRelation">
  <div class="s-relation-header-options-wrapper">
    <div *ngIf="mode === 1" class="s-relation-header-options-more clickable" style="user-select: none">
      <fa-icon [icon]="moreIcon" icon="moreIcon" class="fa fa-2x s-relation-header-options-icon">
      </fa-icon>
    </div>
    <div class="s-relation-header-options-close clickable" style="user-select: none">
      <fa-icon [icon]="closeIcon" icon="closeIcon" class="fa fa-2x s-relation-header-options-icon"
               (click)="handleClose()">
      </fa-icon>
    </div>
  </div>
  <mat-card-header class="s-relation-header">
    <div mat-card-avatar class="s-relation-header-image clickable"
         [ngStyle]="{'background-image': 'url(' + relation.user.profile.photo + ')'}"></div>
    <div class="s-relation-header-username">
      <p>{{relation.user.username}}</p>
    </div>
  </mat-card-header>

  <mat-progress-bar *ngIf="mode === 1" mode="determinate" value="{{this.timeLeft}}"></mat-progress-bar>

  <div *ngIf="mode === 1" class="s-relation-image-wrapper">
    <img *ngIf="!isDesktop" class="s-relation-image" [ngStyle]="{
    'height': (this.innerHeight - this.innerHeight*0.5 +'px'),
     'width': (this.innerWidth - this.innerWidth*0.05 + 'px')}"
         src="{{relation.image}}"
         alt=""/>
    <img *ngIf="isDesktop" class="s-relation-image" [ngStyle]="{
          'height': (this.innerHeight - this.innerHeight*0.4 +'px'),
          'width': (this.innerWidth / 2.0 + 'px')}"
         src="{{relation.image}}"
         alt=""/>
  </div>

  <div *ngIf="mode !== 1" class="s-relation-image-wrapper">
    <div *ngIf="isDesktop && !selectedFile.file" class="s-relation-input-file" [ngStyle]="{
          'height': (this.innerHeight - this.innerHeight*0.4 +'px'),
          'width': (this.innerWidth / 2.0 + 'px')}">
      <input #imageInput
             id="photo"
             accept="image/*"
             type="file"
             required
             class="s-relation-inputfile"
             (change)="processFile(imageInput)"
      />
      <label for="photo" style="margin-bottom: 0">
        <span>Add photo </span>
      </label>
    </div>
    <div *ngIf="!isDesktop && !selectedFile.file" class="s-relation-input-file" [ngStyle]="{
     'height': (this.innerHeight - this.innerHeight*0.5 +'px'),
     'width': (this.innerWidth - this.innerWidth*0.25 + 'px')}">
      <input #imageInput
             id="photo-mobile"
             accept="image/*"
             type="file"
             required
             class="s-relation-inputfile"
             (change)="processFile(imageInput)"
      />
      <label for="photo-mobile" style="margin-bottom: 0">
        <span>Add photo </span>
      </label>
    </div>

    <img *ngIf="!isDesktop && selectedFile.file" class="s-relation-image" [ngStyle]="{
    'height': (this.innerHeight - this.innerHeight*0.5 +'px'),
     'width': (this.innerWidth - this.innerWidth*0.05 + 'px')}"
         src="{{selectedFile.src}}"
         alt=""/>
    <img *ngIf="isDesktop && selectedFile.file" class="s-relation-image" [ngStyle]="{
          'height': (this.innerHeight - this.innerHeight*0.4 +'px'),
          'width': (this.innerWidth / 2.0 + 'px')}"
         src="{{selectedFile.src}}"
         alt=""/>
  </div>
  <div *ngIf="selectedFile.file" class="s-relation-buttons-wrapper">
    <button class="s-relation-button" mat-menu-item (click)="handleAdd()">Dodaj</button>
    <button class="s-relation-button" mat-menu-item (click)="handleClose()">Anuluj</button>
  </div>
</div>
